*{box-sizing:border-box}body{margin:0;font-family:system-ui,Segoe UI,Helvetica,Arial}
#app{display:flex;min-height:100vh}
.sidebar{width:320px;background:#0c1116;color:#e6e6e6;padding:16px;display:flex;flex-direction:column;gap:16px;height:100vh;overflow-y:auto}
.sidebar h2{margin:.25rem 0 .5rem;font-size:1rem;color:#9ad}
.catalog,.tools{display:grid;grid-template-columns:1fr;gap:8px}
.catalog h3{margin:12px 0 6px;font-size:0.9rem;color:#7aa2f7;border-bottom:1px solid #283241;padding-bottom:4px}
.catalog h3:first-child{margin-top:0}
.item,.tool,header button,.ai-panel button{background:#19212b;color:#e6e6e6;border:1px solid #283241;border-radius:10px;padding:10px;cursor:pointer}
.item:hover,.tool:hover,header button:hover,.ai-panel button:hover{background:#202a35}
.tool.active{outline:2px solid #5aa9ff}
.ai-panel,.stats-panel,.modules-panel{display:flex;flex-direction:column;gap:8px}
.modules-panel{background:#19212b;border:1px solid #283241;border-radius:10px;padding:10px}
.module-item{background:#0c1116;border:1px solid #283241;border-radius:6px;padding:8px;margin:4px 0;cursor:pointer;display:flex;justify-content:space-between;align-items:center}
.module-item:hover{background:#1a1f2e}
.module-item.active{background:#1e3a8a;border-color:#3b82f6}
.module-item .module-name{font-size:14px;color:#e6e6e6}
.module-item .module-count{font-size:12px;color:#9ad}
#btn-add-module,#btn-overview,#btn-edit-module,#btn-delete-module{background:#059669;color:white;border:none;border-radius:6px;padding:8px;cursor:pointer;font-size:14px;margin:2px 0}
#btn-add-module:hover,#btn-overview:hover,#btn-edit-module:hover{background:#047857}
#btn-overview{background:#7c3aed}
#btn-overview:hover{background:#6d28d9}
#btn-edit-module{background:#f59e0b}
#btn-edit-module:hover{background:#d97706}
#btn-delete-module{background:#dc2626}
#btn-delete-module:hover{background:#b91c1c}
#btn-undo,#btn-redo{background:#6b7280;color:white;border:none;border-radius:6px;padding:8px;cursor:pointer;font-size:14px;margin:2px 0}
#btn-undo:hover,#btn-redo:hover{background:#4b5563}
#cable-tools .tool{background:#19212b;color:#e6e6e6;border:1px solid #283241;border-radius:10px;padding:10px;cursor:pointer;margin:2px 0}
#cable-tools .tool:hover{background:#202a35}

/* Modal Styles */
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);backdrop-filter:blur(4px)}
.modal-content{background:#0c1116;margin:5% auto;padding:0;border:1px solid #283241;border-radius:12px;width:500px;max-width:90%;box-shadow:0 20px 40px rgba(0,0,0,0.5)}
.modal-header{background:#19212b;padding:20px;border-bottom:1px solid #283241;border-radius:12px 12px 0 0;display:flex;justify-content:space-between;align-items:center}
.modal-header h2{margin:0;color:#e6e6e6;font-size:18px}
.close{color:#9ad;font-size:28px;font-weight:bold;cursor:pointer;line-height:1}
.close:hover{color:#e6e6e6}
.modal-body{padding:20px}
.form-group{margin-bottom:16px}
.form-group label{display:block;margin-bottom:6px;color:#e6e6e6;font-size:14px;font-weight:500}
.form-group input[type="text"],.form-group input[type="number"],.form-group select{width:100%;padding:8px 12px;background:#19212b;color:#e6e6e6;border:1px solid #283241;border-radius:6px;font-size:14px;box-sizing:border-box}
.form-group input[type="color"]{width:60px;height:40px;background:none;border:1px solid #283241;border-radius:6px;cursor:pointer}
.form-group input[type="range"]{width:calc(100% - 60px);margin-right:10px}
.form-group span{color:#9ad;font-size:12px}
.modal-footer{padding:20px;border-top:1px solid #283241;display:flex;gap:12px;justify-content:flex-end}
.btn-primary{background:#059669;color:white;border:none;border-radius:6px;padding:10px 20px;cursor:pointer;font-size:14px;font-weight:500}
.btn-primary:hover{background:#047857}
.btn-secondary{background:#6b7280;color:white;border:none;border-radius:6px;padding:10px 20px;cursor:pointer;font-size:14px;font-weight:500}
.btn-secondary:hover{background:#4b5563}

/* Category Groups */
.category-group{margin-bottom:12px}
.category-btn{background:#0c1116;color:#e6e6e6;border:1px solid #283241;border-radius:8px;padding:10px 12px;cursor:pointer;font-size:14px;font-weight:500;width:100%;text-align:left;display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}
.category-btn:hover{background:#1a1f2e;border-color:#3b82f6}
.category-btn.active{background:#1e3a8a;border-color:#3b82f6}
.category-btn::after{content:"â–¼";font-size:10px;transition:transform 0.2s}
.category-btn.active::after{transform:rotate(180deg)}

.category-menu{background:#19212b;border:1px solid #283241;border-radius:6px;padding:8px;margin-top:4px;animation:slideDown 0.2s ease-out}
@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
.module-templates{margin:8px 0;display:flex;flex-direction:column;gap:4px}
.module-templates label{font-size:12px;color:#9ad}
.module-templates select{background:#19212b;color:#e6e6e6;border:1px solid #283241;border-radius:4px;padding:4px;font-size:12px}
.stats-panel{background:#19212b;border:1px solid #283241;border-radius:10px;padding:10px}
#stats-display div{margin:4px 0;color:#e6e6e6;font-size:14px}
#stats-display span{color:#9ad;font-weight:bold}
main{flex:1;display:flex;flex-direction:column;height:100vh;overflow:hidden}
header,footer{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:#0f1620;color:#c9d1d9;border-bottom:1px solid #1d2733}
footer{border-top:1px solid #1d2733;border-bottom:none}
.canvas-wrap{flex:1;display:flex;align-items:center;justify-content:center;background:#0a0f14;overflow:auto}
canvas{background:#0b121a;border:1px solid #1d2733;border-radius:12px}
.right button{margin-left:8px}
#ai-suggestions{margin:0;padding-left:18px;max-height:160px;overflow:auto}
.suggestion-error{color:#ff6b6b;border-left:3px solid #ff6b6b;padding-left:8px;margin:4px 0}
.suggestion-warn{color:#ffd93d;border-left:3px solid #ffd93d;padding-left:8px;margin:4px 0}
.suggestion-hint{color:#6bcf7f;border-left:3px solid #6bcf7f;padding-left:8px;margin:4px 0}
/* Floating AI Panel */
#ai-floating-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 340px;
  height: 100vh;
  background: #0c1116;
  border-left: 1px solid #283241;
  box-shadow: -4px 0 20px rgba(0,0,0,0.6);
  color: #e6e6e6;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 16px;
  transition: transform 0.3s ease;
  transform: translateX(100%);
  z-index: 1000;
}
#ai-floating-panel.visible {
  transform: translateX(0);
}
#ai-floating-panel h2 {
  margin-top: 0;
  font-size: 1.1rem;
  color: #9ad;
}
.ai-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

#btn-close-ai {
  background: #1a1f2e;
  color: #9ad;
  border: 1px solid #283241;
  border-radius: 6px;
  cursor: pointer;
  padding: 4px 10px;
  font-size: 14px;
  transition: background 0.2s, color 0.2s;
}

#btn-close-ai:hover {
  background: #3b82f6;
  color: #fff;
}